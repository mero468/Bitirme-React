{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ammar\\\\OneDrive\\\\Desktop\\\\Bitirme\\\\frontend\\\\src\\\\pages\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport { NavBar } from '../../components/NavBar';\nimport Modal from 'react-bootstrap/Modal';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  let navigate = useNavigate();\n  const login_request = () => {\n    var formdata = new FormData();\n    formdata.append(\"email\", email);\n    formdata.append(\"password\", password);\n    var requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow'\n    };\n    fetch(\"http://127.0.0.1:8000/api/auth/login/\", requestOptions).then(response => response.text()).then(result => {\n      const obj = JSON.parse(result);\n      console.log(obj);\n      if ('detail' in obj) {\n        const temp = obj.detail;\n        if (temp.includes(\"Email\")) {\n          setMessage(\"E-posta kimliği doğrulanmadı!\");\n        } else {\n          setMessage(\"Geçersiz kimlik bilgileri, tekrar deneyin!\");\n        }\n        handleShow();\n      } else {\n        localStorage.setItem('access-token', obj.tokens.access);\n        localStorage.setItem('refresh-token', obj.tokens.refresh);\n        localStorage.setItem('email', obj.email);\n        navigate('/');\n      }\n    }).catch(error => console.log('error', error));\n  };\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Kullan\\u0131c\\u0131 Giri\\u015Fi \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"E-posta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            value: email,\n            name: \"email\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"\\u015Eifre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            name: \"password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex \",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"flex-grow-1 a-link \",\n            href: \"/forgot\",\n            children: \"\\u015Eifrenizi Unuttum \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"a-link \",\n            href: \"/signup\",\n            children: \" Hesab\\u0131m yok \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 92\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => login_request(),\n            className: \"submit-btn\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      backdrop: \"static\",\n      keyboard: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Dikkat!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            handleClose();\n          },\n          variant: \"primary\",\n          children: \"Anlad\\u0131m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n};\n_s(Login, \"57ByTnqZTyOcrtSA0RfMKGPVeTU=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","NavBar","Modal","useNavigate","Login","navigate","login_request","formdata","FormData","append","email","password","requestOptions","method","body","redirect","fetch","then","response","text","result","obj","JSON","parse","console","log","temp","detail","includes","setMessage","handleShow","localStorage","setItem","tokens","access","refresh","catch","error","setPassword","setEmail","message","show","setShow","handleClose","e","target","value"],"sources":["C:/Users/ammar/OneDrive/Desktop/Bitirme/frontend/src/pages/Login/Login.jsx"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react';\nimport { NavBar } from '../../components/NavBar';\nimport Modal from 'react-bootstrap/Modal';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n   let navigate = useNavigate();\n\n   const login_request = () =>{\n      var formdata = new FormData();\n      formdata.append(\"email\", email);\n      formdata.append(\"password\", password);\n\n      var requestOptions = {\n      method: 'POST',\n      body: formdata,\n      redirect: 'follow'\n      };\n\n      fetch(\"http://127.0.0.1:8000/api/auth/login/\", requestOptions)\n      .then(response => response.text())\n      .then(result => {\n         const obj = JSON.parse(result);\n         console.log(obj);\n         if('detail' in obj){\n            const temp = obj.detail;\n            if(temp.includes(\"Email\")){\n               setMessage(\"E-posta kimliği doğrulanmadı!\");\n            }\n            else{\n               setMessage(\"Geçersiz kimlik bilgileri, tekrar deneyin!\");\n            }\n            handleShow();\n         }\n         else{\n            localStorage.setItem('access-token',obj.tokens.access);\n            localStorage.setItem('refresh-token',obj.tokens.refresh);\n            localStorage.setItem('email',obj.email);\n            navigate('/');\n         }\n      })\n      .catch(error => console.log('error', error));\n   }\n   const [password,setPassword] = useState(\"\");\n   const [email,setEmail] = useState(\"\");\n   const [message,setMessage] = useState(\"\");\n   const [show, setShow] = useState(false);\n   const handleClose = () => setShow(false);\n   const handleShow = () => setShow(true);\n\n   return (\n         <>\n         <NavBar/>\n         <div className=\"wrapper\">\n            <div className='form-wrapper'>\n               <h2>Kullanıcı Girişi </h2>\n                  <div className='email'>\n                     <label htmlFor=\"email\">E-posta:</label>\n                     <input type='email'  value={email} name='email' onChange={(e)=> setEmail(e.target.value)}/>\n                  </div>\n                  <div className='password'>\n                     <label htmlFor=\"password\">Şifre:</label>\n                     <input type='password' value={password} name='password' onChange={(e)=> setPassword(e.target.value)}/>\n                  </div>     \n                  <div className='d-flex ' >      \n                   <a className='flex-grow-1 a-link ' href='/forgot'>Şifrenizi Unuttum </a><a className='a-link ' href='/signup'> Hesabım yok </a>\n                   </div>\n                  <div className='submit'>\n                     <button onClick={(e) =>login_request()} className='submit-btn'>Login</button>\n                  </div>\n            </div>\n         </div>\n         <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n         >\n            <Modal.Header>\n               <Modal.Title>Dikkat!</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n               {message}\n            </Modal.Body>\n            <Modal.Footer>\n               <button onClick={()=> {\n                  handleClose();\n               }} variant=\"primary\">Anladım</button>\n            </Modal.Footer>\n         </Modal>  \n      </>\n   )\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}